<div class="modal modal-wide fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">×</button>
                <h4 class="modal-title"><i class="fa fa-file-o fa-fw"></i> Cập nhật số liệu cho chỉ tiêu <i>"@ViewBag.TenChiTieu"</i></h4>
            </div>
            <div class="modal-body">
                @using (Html.BeginForm("Edit", null, FormMethod.Post, new { @id = "MyForm", @autocomplete = "off", }))
                {
                    <div class="form-horizontal">
                        <div class="row form-group">
                            <label class="col-md-2 control-label">Ngày nhập</label>
                            <div class="col-md-3">
                                @*<input type="text" value="" class="form-control input-sm" />*@
                                <div class='input-group date'>
                                    @*@Html.TextBoxFor(c => c.CreatedTime, "{0:dd/MM/yyyy}", new { @class = "form-control input-sm" })*@
                                    <input type="text" class="form-control input-sm" />
                                    <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
                                </div>
                                @*@Html.TextBoxFor(c => c.Title, new { @class = "form-control input-sm" })
                                    @Html.ValidationMessageFor(c => c.Title, "", new { @class = "text-danger" })*@
                            </div>
                        </div>
                        <div class="row form-group">
                            <label class="col-md-2 control-label">Nội dung</label>
                            <div class="col-md-10">
                                <textarea rows="2" placeholder="Nội dung" class="form-control input-sm"></textarea>
                            </div>
                        </div>
                        <div class="row form-group">
                            <label class="col-md-2 control-label">Số liệu</label>
                            <div class="col-md-3">
                                <input type="text" value="" class="form-control input-sm" />
                            </div>
                        </div>
                    </div>
                    <div class="row form-group">
                        <div class="col-md-2"></div>
                        <div class="col-md-10">
                            <button class="btn btn-primary" id="btn-ok">
                                <span class="bootstrap-dialog-button-icon glyphicon glyphicon-check"></span>
                                Lưu thông tin
                            </button>
                            <button type="button" class="btn btn-default" data-dismiss="modal">
                                <span class="bootstrap-dialog-button-icon glyphicon glyphicon-log-out"></span>
                                Bỏ qua
                            </button>
                        </div>
                    </div>
                }
            </div>
            <div class="modal-footer">
                @*<button class="btn btn-primary" id="btn-ok">
                        <span class="bootstrap-dialog-button-icon glyphicon glyphicon-check"></span>
                        Lưu thông tin
                    </button>
                    *@
                <table id="chiTieu" class="table hover table-striped table-bordered" style="width:100%">
                    <thead>
                        <tr>
                            <th></th>
                            <th style="width:80px !important">Ngày nhập</th>
                            <th>Nội dung</th>
                            <th style="width:100px !important">Số tiền</th>
                            <th style="width:55px !important"></th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        //Globalize.culture("vi-VN");
        var option = {
            todayBtn: "linked",
            language: "vi",
            todayHighlight: true,
            weekStart: 1,
            autoclose: true,
            calendarWeeks: false,
            daysOfWeekDisabled: [0]
        };
        $.each($('div.date'), function (i) {
            var $this = $(this).datepicker(option);
        });
        $('#myModal').modal('show');
        $('#myModal').on('hidden.bs.modal', function (e) {
            $('#myModal').remove();
        });
        $(function () {
            var s = $('#chiTieu').DataTable({
                "sAjaxSource": "@Url.Action("getSoLieuChiTieu", "SoLieu")",
                "bStateSave": true,
                "bFilter": false,
                "bInfo": false,
                "bPaginate": false,
                "columns": [
                    { "data": "col0", "width": "10px", "class": "center", "sortable": false, "visible": false },
                    { "data": "col1", "sortable": false },
                    { "data": "col2", "sortable": false },
                    { "data": "col3", "sortable": false },
                    {
                        "targets": -1,
                        "sortable": false,
                        "searchable": false,
                        "data": null,
                        "defaultContent": '<button class="btn btn-sm btn-primary mgr2 form-group edit" data-toggle="tooltip" data-placement="top" title="Thay đổi thông tin"><span class="glyphicon glyphicon-pencil"></span></button><button class="btn btn-sm btn-danger delete form-group" data-toggle="tooltip" data-placement="top" title="Xóa"><span class="glyphicon glyphicon-trash"></span></button>'
                    }
                ],
                "fnServerParams": function (aoData) {
                    aoData.push({ "name": "MaChiTieu", "value": '@ViewBag.MaChiTieu' });
                    aoData.push({ "name": "MaCuoc", "value": '@ViewBag.MaCuoc' });
                },
                "fnDrawCallback": function () {
                    $('button.btn, a.btn').tooltip({ 'delay': { show: 500 } });
                }
            }).on('mouseover', 'tr[role = "row"] td', function () {
                $('#chiTieu tbody tr').removeClass('highlight');
                $(this).closest('tr').addClass('highlight');
            });
        });
    </script>
</div>
